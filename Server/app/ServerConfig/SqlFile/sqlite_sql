CREATE TABLE IF NOT EXISTS user_base (
    userid       VARCHAR (32)           PRIMARY KEY
                                        NOT NULL,
    username     VARCHAR (256)          UNIQUE
                                        NOT NULL,
    password     VARCHAR (256)          NOT NULL
);
//
CREATE TABLE IF NOT EXISTS user_info (
    userid       VARCHAR (32)           PRIMARY KEY
                                        REFERENCES user_base (userid) ON DELETE CASCADE
                                                                      ON UPDATE CASCADE
                                        NOT NULL
                                        UNIQUE,
    realname     VARCHAR (32)           NOT NULL,
    idcard       VARCHAR (32)           NOT NULL
                                        UNIQUE,
    cellphone    VARCHAR (32)           NOT NULL
                                        UNIQUE,
    email        VARCHAR (256)          NOT NULL
                                        UNIQUE,
    avatarurl    VARCHAR (256)
);
//
CREATE TABLE IF NOT EXISTS user_introduce (
    userid       VARCHAR (32)           PRIMARY KEY
                                        REFERENCES user_base (userid) ON DELETE CASCADE
                                                                      ON UPDATE CASCADE
                                        NOT NULL
                                        UNIQUE,
    resume       VARCHAR (1000) ,
    tags         VARCHAR (1000)
);
//
CREATE TABLE IF NOT EXISTS user_class (
    userid       VARCHAR (32)           PRIMARY KEY
                                        REFERENCES user_base (userid) ON DELETE CASCADE
                                                                      ON UPDATE CASCADE
                                        NOT NULL
                                        UNIQUE,
    write_level  VARCHAR (32)
);
//
CREATE TABLE IF NOT EXISTS article_base (
    articleid    VARCHAR (32)           PRIMARY KEY
                                        NOT NULL
                                        UNIQUE,
    userid       VARCHAR (32)           NOT NULL
                                        REFERENCES user_base (userid) ON DELETE CASCADE
                                                                   ON UPDATE CASCADE,
    title        VARCHAR (256)          NOT NULL,
    breif        VARCHAR (2000)         NOT NULL,
    keywords     VARCHAR (2000)         NOT NULL,
    coverurl     VARCHAR (256)          NOT NULL,
    uptime       VARCHAR (256)          NOT NULL,
    bodyurl      VARCHAR (256)          NOT NULL
);
//
CREATE TABLE IF NOT EXISTS comments (
    commentid    VARCHAR (32)           PRIMARY KEY
                                        NOT NULL
                                        UNIQUE,
    articleid    VARCHAR (32)           NOT NULL
                                        REFERENCES article_base (articleid) ON DELETE CASCADE
                                                                            ON UPDATE CASCADE,
    userid       VARCHAR (32)           NOT NULL
                                        REFERENCES user_base (userid) ON DELETE CASCADE
                                                                   ON UPDATE CASCADE,
    uptime       VARCHAR (256)          NOT NULL,
    comments     VARCHAR (2000)         NOT NULL,
    refid        VARCHAR (32)
);
//
CREATE TABLE IF NOT EXISTS browsers_article (
    browserid    VARCHAR (32)           PRIMARY KEY
                                        NOT NULL
                                        UNIQUE,
    articleid    VARCHAR (32)           NOT NULL
                                        REFERENCES article_base (articleid) ON DELETE CASCADE
                                                                            ON UPDATE CASCADE,
    userid       VARCHAR (32)           REFERENCES user_base (userid) ON DELETE CASCADE
                                                                   ON UPDATE CASCADE,
    ipaddr       VARCHAR (32)
);
//
CREATE TABLE IF NOT EXISTS likes_article (
    likeid    VARCHAR (32)              PRIMARY KEY
                                        NOT NULL
                                        UNIQUE,
    articleid    VARCHAR (32)           NOT NULL
                                        REFERENCES article_base (articleid) ON DELETE CASCADE
                                                                            ON UPDATE CASCADE,
    userid       VARCHAR (32)           NOT NULL
                                        REFERENCES user_base (userid) ON DELETE CASCADE
                                                                   ON UPDATE CASCADE
);
//
CREATE TABLE IF NOT EXISTS likes_comment (
    likeid    VARCHAR (32)              PRIMARY KEY
                                        NOT NULL
                                        UNIQUE,
    commentid    VARCHAR (32)           NOT NULL
                                        REFERENCES comments (commentid) ON DELETE CASCADE
                                                                            ON UPDATE CASCADE,
    userid       VARCHAR (32)           NOT NULL
                                        REFERENCES user_base (userid) ON DELETE CASCADE
                                                                   ON UPDATE CASCADE
);
//
CREATE TABLE IF NOT EXISTS email_valid (
    validid     VARCHAR (32)             PRIMARY KEY
                                         NOT NULL
                                         UNIQUE,
    email       VARCHAR (256)            NOT NULL,
    expiretime  VARCHAR (256)            NOT NULL,
    code        VARCHAR (32),
    type        VARCHAR (32)
);
